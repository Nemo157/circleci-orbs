parameters:
  toolchain:
    type: string
    default: ""

executor: rust
steps:
- checkout
- rustup-update:
    toolchain: << parameters.toolchain >>
- rustup:
    toolchain: << parameters.toolchain >>
    command: component add rustfmt
- cargo:
    toolchain: << parameters.toolchain >>
    command: fmt -- --check
